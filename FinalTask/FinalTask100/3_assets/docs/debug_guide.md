# RoboMaster S1 å·¡çº¿æœºå™¨äººè°ƒè¯•æŒ‡å—

## ğŸ¯ æ ¸å¿ƒè°ƒè¯•åŠŸèƒ½

### å®æ—¶è§†è§‰è°ƒè¯•çª—å£
è¿è¡Œç¨‹åºåä¼šè‡ªåŠ¨æ‰“å¼€ä¸¤ä¸ªè°ƒè¯•çª—å£ï¼š
- **å›¾åƒå¸§çª—å£**: æ˜¾ç¤ºåŸå§‹å›¾åƒ+æ£€æµ‹ç»“æœå¯è§†åŒ–
- **æ©è†œçª—å£**: æ˜¾ç¤ºè“è‰²æ©è†œå¤„ç†ç»“æœ

### å…³é”®è°ƒè¯•ä¿¡æ¯æ˜¾ç¤º
åœ¨å›¾åƒå·¦ä¸Šè§’å®æ—¶æ˜¾ç¤ºï¼š
- **è¯¯å·®**: å½“å‰ä¸­å¿ƒä½ç½®ä¸å›¾åƒä¸­å¿ƒçš„åå·®ï¼ˆåƒç´ ï¼‰
- **Xé€Ÿåº¦**: å‰è¿›é€Ÿåº¦ï¼ˆm/sï¼‰
- **Zé€Ÿåº¦**: æ—‹è½¬é€Ÿåº¦ï¼ˆåº¦/ç§’ï¼‰  
- **æ›²ç‡**: å½“å‰æ£€æµ‹åˆ°çš„çº¿æ¡æ›²ç‡
- **é¢„æµ‹æ›²ç‡**: å‰æ–¹50åƒç´ å¤„çš„é¢„æµ‹æ›²ç‡
- **æ¨¡å¼**: å½“å‰æ§åˆ¶æ¨¡å¼ï¼ˆå¸¸è§„/æ¼‚ç§»ï¼‰
- **æ–¹å‘**: å¼¯é“æ–¹å‘ï¼ˆå·¦/å³/ç›´é“ï¼‰

## ğŸ”§ å‚æ•°è°ƒè¯•æ–¹æ³•

### ä½¿ç”¨å‚æ•°ç®¡ç†å·¥å…·
```bash
# åˆ—å‡ºæ‰€æœ‰å¯è°ƒå‚æ•°
python manage_params.py list

# è·å–ç‰¹å®šå‚æ•°å€¼
python manage_params.py get base_speed_straight
python manage_params.py get drift_enabled

# è®¾ç½®å‚æ•°å€¼ï¼ˆè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼‰
python manage_params.py set base_speed_straight 1.2
python manage_params.py set drift_aggression 0.9
python manage_params.py set inner_wheel_reduction 0.65

# é‡ç½®å‚æ•°åˆ°é»˜è®¤å€¼
python manage_params.py reset base_speed_straight
python manage_params.py reset  # é‡ç½®æ‰€æœ‰å‚æ•°
```

### å…³é”®è°ƒè¯•å‚æ•°åˆ—è¡¨

#### é€Ÿåº¦æ§åˆ¶å‚æ•°
- `base_speed_straight`: ç›´çº¿åŸºç¡€é€Ÿåº¦ (0.5-2.0)
- `base_speed_curve`: å¼¯é“åŸºç¡€é€Ÿåº¦ (0.5-2.0) 
- `drift_speed_boost`: æ¼‚ç§»é€Ÿåº¦åŠ æˆ (1.0-1.5)

#### æ¼‚ç§»æ§åˆ¶å‚æ•°
- `drift_enabled`: æ˜¯å¦å¯ç”¨æ¼‚ç§»æ¨¡å¼ (true/false)
- `min_drift_curvature`: å¼€å§‹æ¼‚ç§»çš„æœ€å°æ›²ç‡ (0.1-0.4)
- `inner_wheel_reduction`: å†…ä¾§è½®å‡é€Ÿç³»æ•° (0.6-0.8)
- `outer_wheel_boost`: å¤–ä¾§è½®åŠ é€Ÿç³»æ•° (0.2-0.4)
- `drift_aggression`: æ¼‚ç§»æ¿€è¿›ç¨‹åº¦ (0.0-1.0)

#### è§†è§‰æ£€æµ‹å‚æ•°
- `lower_blue`: è“è‰²æ£€æµ‹ä¸‹é™ (HSVæ ¼å¼)
- `upper_blue`: è“è‰²æ£€æµ‹ä¸Šé™ (HSVæ ¼å¼) 
- `roi_row_offsets`: ROIæ£€æµ‹è¡Œåç§» [150,120,90,60,30]
- `min_white_pixels`: æœ€å°ç™½è‰²åƒç´ æ•° (5-15)

#### PIDæ§åˆ¶å‚æ•°
- `main_pid_params`: ä¸»PIDå‚æ•° [P,I,D,è¾“å‡ºé™åˆ¶]
- `curved_pid_params`: å¼¯é“PIDå‚æ•° [P,I,D,è¾“å‡ºé™åˆ¶]

#### é¢„æµ‹å‚æ•°
- `prediction_distance`: é¢„æµ‹è·ç¦»åƒç´  (30-70)
- `early_curve_threshold`: æå‰æ£€æµ‹é˜ˆå€¼ (0.1-0.2)
- `preemptive_slowdown_factor`: æå‰é™é€Ÿç³»æ•° (0.6-0.9)

## ğŸš€ æ€§èƒ½ä¼˜åŒ–è°ƒè¯•æµç¨‹

### ç¬¬ä¸€æ­¥ï¼šåŸºç¡€å·¡çº¿è°ƒè¯•
1. ç¡®ä¿è“è‰²æ£€æµ‹èŒƒå›´æ­£ç¡®ï¼ˆè°ƒæ•´`lower_blue`/`upper_blue`ï¼‰
2. è°ƒè¯•ç›´çº¿å·¡çº¿ç¨³å®šæ€§ï¼ˆè°ƒæ•´`main_pid_params`ï¼‰
3. ä¼˜åŒ–åŸºç¡€é€Ÿåº¦ï¼ˆè®¾ç½®`base_speed_straight`ï¼‰

### ç¬¬äºŒæ­¥ï¼šå¼¯é“æ€§èƒ½ä¼˜åŒ–  
1. å¯ç”¨æ¼‚ç§»æ¨¡å¼ï¼š`set drift_enabled true`
2. è°ƒæ•´æ¼‚ç§»æ¿€è¿›ç¨‹åº¦ï¼š`set drift_aggression 0.8`
3. ä¼˜åŒ–è½®é€Ÿå·®å‚æ•°ï¼š`inner_wheel_reduction`å’Œ`outer_wheel_boost`
4. è®¾ç½®æ¼‚ç§»è§¦å‘é˜ˆå€¼ï¼š`min_drift_curvature`

### ç¬¬ä¸‰æ­¥ï¼šé¢„æµ‹ç³»ç»Ÿè°ƒè¯•
1. è§‚å¯Ÿ"é¢„æµ‹æ›²ç‡"æ˜¾ç¤ºå€¼
2. è°ƒæ•´é¢„æµ‹è·ç¦»ï¼š`prediction_distance`
3. è®¾ç½®æå‰é™é€Ÿç³»æ•°ï¼š`preemptive_slowdown_factor`
4. ä¼˜åŒ–æå‰æ£€æµ‹é˜ˆå€¼ï¼š`early_curve_threshold`

## âš ï¸ å¸¸è§é—®é¢˜è°ƒè¯•

### æ£€æµ‹ä¸åˆ°è“çº¿
- æ£€æŸ¥ç¯å¢ƒå…‰ç…§æ¡ä»¶
- è°ƒæ•´`lower_blue`å’Œ`upper_blue`å‚æ•°
- å¢åŠ `min_white_pixels`å€¼

### è¿‡å¼¯æ—¶å†²å‡ºèµ›é“
- é™ä½`base_speed_curve`
- å¢åŠ `inner_wheel_reduction` 
- å‡å°`drift_aggression`
- æå‰è§¦å‘é™é€Ÿï¼šé™ä½`early_curve_threshold`

### æ¼‚ç§»è¿‡åº¦æˆ–ä¸è¶³
- è°ƒæ•´`inner_wheel_reduction`ï¼ˆ0.6-0.8ï¼‰
- è°ƒæ•´`outer_wheel_boost`ï¼ˆ0.2-0.4ï¼‰
- ä¿®æ”¹`min_drift_curvature`è§¦å‘é˜ˆå€¼

### ç›´çº¿è¡Œé©¶ä¸ç¨³å®š
- ä¼˜åŒ–`main_pid_params`çš„På€¼
- æ£€æŸ¥ROIæ£€æµ‹æ˜¯å¦ç¨³å®š
- è°ƒæ•´`position_history_length`

## ğŸ® å®æ—¶è°ƒè¯•æŠ€å·§

1. **è§‚å¯Ÿæ›²ç‡å€¼**: æ›²ç‡>0.25æ—¶è¿›å…¥æ¼‚ç§»æ¨¡å¼
2. **å…³æ³¨é¢„æµ‹ä¿¡æ¯**: é¢„æµ‹æ›²ç‡>0.15æ—¶æå‰é™é€Ÿ
3. **ç›‘æ§é€Ÿåº¦å˜åŒ–**: Xé€Ÿåº¦ä¿æŒå‰è¿›ï¼ŒZé€Ÿåº¦æ§åˆ¶è½¬å‘
4. **æ³¨æ„æ¨¡å¼åˆ‡æ¢**: åœ¨"å¸¸è§„æ¨¡å¼"å’Œ"æ¼‚ç§»ä¸­"ä¹‹é—´åˆ‡æ¢

## ğŸ“Š è°ƒè¯•å‚æ•°æ¨èå€¼

### æ¿€è¿›ç«é€Ÿæ¨¡å¼
```
base_speed_straight: 1.8
base_speed_curve: 1.6
drift_aggression: 0.9
inner_wheel_reduction: 0.65
outer_wheel_boost: 0.35
```

### ç¨³å®šå·¡çº¿æ¨¡å¼  
```
base_speed_straight: 1.2
base_speed_curve: 1.0
drift_aggression: 0.7
inner_wheel_reduction: 0.75
outer_wheel_boost: 0.25
```

### æ–°æ‰‹è°ƒè¯•æ¨¡å¼
```
base_speed_straight: 0.8
base_speed_curve: 0.6  
drift_enabled: false
```

## ğŸ”š è°ƒè¯•å®Œæˆæ£€æŸ¥

âœ… è“è‰²æ£€æµ‹ç¨³å®šå‡†ç¡®
âœ… ç›´çº¿å·¡çº¿å¹³æ»‘æ— æŒ¯è¡  
âœ… å¼¯é“è¿‡æ¸¡è‡ªç„¶æµç•…
âœ… æ¼‚ç§»æ§åˆ¶ç²¾å‡†æœ‰åŠ›
âœ… é¢„æµ‹ç³»ç»Ÿæå‰é¢„è­¦
âœ… å‚æ•°å“åº”åŠæ—¶æœ‰æ•ˆ

ä½¿ç”¨`manage_params.py export my_config.yaml`å¯¼å‡ºä¼˜åŒ–åçš„é…ç½®ï¼
